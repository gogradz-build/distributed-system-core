import{d as x,r as v,f as E,k as P,o as p,l as w,h as S,a as e,t as d,w as N,b as r,m as k,v as i,c as b,s as _,q as A}from"./app-DuMmWb0e.js";import{_ as C}from"./AdminLayout-CuGKItQZ.js";/* empty css                                                                    */import"./dataTables.bootstrap4.min-Db9EHKM2.js";import"./AdminFooter-i6V7ulTS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"row mb-2"},U={class:"col-sm-6"},D={class:"breadcrumb float-sm-right mt-2"},M={class:"breadcrumb-item"},B=["href"],T={class:"breadcrumb-item"},R=["href"],I={class:"row mb-2"},L={class:"col-sm-6"},O={class:"mt-3"},j={class:"row"},H={class:"col-12"},Y={class:"card card-secondary"},$={class:"card-body"},z={class:"row"},F={class:"col-6"},G={class:"form-group"},J={class:"col-6"},K={class:"form-group"},Q={class:"row purchase mt-4",id:"cheque_form"},W={class:"col-6"},X={class:"form-group"},Z={key:0,class:"invalid-feedback",style:{display:"block"}},ee={class:"col-6"},ae={class:"form-group"},te={key:0,class:"invalid-feedback",style:{display:"block"}},se={class:"col-6"},oe={class:"form-group"},le={key:0,class:"invalid-feedback",style:{display:"block"}},de={class:"row"},re={class:"col-6"},ne={class:"form-group"},ie={class:"col-6"},ue={class:"form-group"},me={class:"col-6"},ce={class:"form-group"},ke={__name:"createPayment",props:{data:Array},setup(n){const m=x(),c=n,t=v({order_status:c.data.order_status,payment_type:1,received_amount:c.data.received_amount,total_price:c.data.total_price,amount:"",bank_name:"",cheque_number:"",expire_date:""}),l=v({bank_name:"",cheque_number:"",expire_date:""});v(!1);const f=v(null),q=o=>{if(o.preventDefault(),t.value.payment_type==="2"){let a=!0;if(t.value.bank_name||(l.value.bank_name="Please provide a bank name.",a=!1),t.value.cheque_number||(l.value.cheque_number="Please provide a cheque number.",a=!1),t.value.expire_date||(l.value.expire_date="Please provide an expiry date.",a=!1),!a)return}if(!f.value.checkValidity()){f.value.classList.add("was-validated");return}A.put(route("shop.payment.products",{id:c.data.id}),t.value).then(a=>{var s,u;(s=a==null?void 0:a.data)!=null&&s.message?(localStorage.setItem("successMessage",a.data.message),window.location.href=route("admin.payment.sales")):(u=a==null?void 0:a.data)!=null&&u.error&&m.error(a.data.error)}).catch(a=>{var s,u,h,y;(u=(s=a.response)==null?void 0:s.data)!=null&&u.errors?Object.values(a.response.data.errors||{}).flat().forEach(g=>{m.error(g)}):(y=(h=a.response)==null?void 0:h.data)!=null&&y.message?m.error(a.response.data.message):m.error("An unexpected error occurred."),console.error(a)})};return E(()=>{const o=document.getElementById("cheque_form");o&&(o.style.display="none")}),P(()=>t.value.payment_type,o=>{console.log(o);const a=document.getElementById("cheque_form");o==2?a.style.display="flex ":a.style.display="none "}),(o,a)=>(p(),w(C,null,{default:S(()=>[e("div",V,[a[9]||(a[9]=e("div",{class:"col-sm-6"},[e("h4",{class:"mt-2"},"UPDATE SALES PAYMENTS")],-1)),e("div",U,[e("ol",D,[e("li",M,[e("a",{href:o.route("admin.dashboard")},"Home",8,B)]),e("li",T,[e("a",{href:o.route("admin.payment.sales")},"Sales Payments",8,R)]),a[8]||(a[8]=e("li",{class:"breadcrumb-item active"},"Update Sales Payment",-1))])])]),e("div",I,[e("div",L,[e("h3",O,"NAME : "+d(n.data.shop.name),1),e("p",null,"Phone Number : "+d(n.data.shop.contact),1),e("p",null,"Address : "+d(n.data.shop.address),1),e("p",null,"credit limit : Rs:- "+d(n.data.shop.credit_limit),1),e("p",null,"credit amount : Rs:- "+d(n.data.shop.credit),1)])]),e("div",j,[e("div",H,[e("div",Y,[a[22]||(a[22]=e("div",{class:"card-header card-header-background"},[e("h3",{class:"card-title"},"Create Sale Payment"),e("div",{class:"card-tools"},[e("button",{type:"button",class:"btn btn-tool","data-card-widget":"collapse"},[e("i",{class:"fas fa-minus"})]),e("button",{type:"button",class:"btn btn-tool","data-card-widget":"remove"},[e("i",{class:"fas fa-times"})])])],-1)),e("div",$,[e("form",{class:"needs-validation",ref_key:"formRef",ref:f,onSubmit:N(q,["prevent"]),novalidate:""},[e("div",z,[e("div",F,[e("div",G,[a[11]||(a[11]=e("label",{for:"name"},"Order Status :",-1)),r(e("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":a[0]||(a[0]=s=>t.value.order_status=s)},a[10]||(a[10]=[e("option",{value:"1"},"Start to Print",-1),e("option",{value:"2"},"Print",-1),e("option",{value:"3"},"Delivered",-1)]),512),[[k,t.value.order_status]])])]),e("div",J,[e("div",K,[a[13]||(a[13]=e("label",{for:"name"},"Payment Type :",-1)),r(e("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":a[1]||(a[1]=s=>t.value.payment_type=s)},a[12]||(a[12]=[e("option",{value:"1"},"Cash",-1),e("option",{value:"2"},"Cheque",-1)]),512),[[k,t.value.payment_type]])])])]),e("div",Q,[e("div",W,[e("div",X,[a[14]||(a[14]=e("label",{for:"cheque-name"},"Bank Name :",-1)),r(e("input",{type:"text",class:"form-control",id:"name",placeholder:"Enter Cheque Name","onUpdate:modelValue":a[2]||(a[2]=s=>t.value.bank_name=s)},null,512),[[i,t.value.bank_name]]),l.value.bank_name?(p(),b("div",Z,d(l.value.bank_name),1)):_("",!0)])]),e("div",ee,[e("div",ae,[a[15]||(a[15]=e("label",{for:"cheque-name"},"Cheque Number :",-1)),r(e("input",{type:"text",class:"form-control",id:"name",placeholder:"Enter Cheque Name","onUpdate:modelValue":a[3]||(a[3]=s=>t.value.cheque_number=s)},null,512),[[i,t.value.cheque_number]]),l.value.cheque_number?(p(),b("div",te,d(l.value.cheque_number),1)):_("",!0)])]),e("div",se,[e("div",oe,[a[16]||(a[16]=e("label",{for:"cheque-name"},"Expire Date :",-1)),r(e("input",{type:"date",class:"form-control",id:"name",placeholder:"Enter Cheque Name","onUpdate:modelValue":a[4]||(a[4]=s=>t.value.expire_date=s)},null,512),[[i,t.value.expire_date]]),l.value.expire_date?(p(),b("div",le,d(l.value.expire_date),1)):_("",!0)])])]),e("div",de,[e("div",re,[e("div",ne,[a[17]||(a[17]=e("label",{for:"cheque-name"},"Total Price :",-1)),r(e("input",{type:"text",class:"form-control",id:"name",placeholder:"Enter Cheque Name","onUpdate:modelValue":a[5]||(a[5]=s=>t.value.total_price=s),disabled:""},null,512),[[i,t.value.total_price]])])]),e("div",ie,[e("div",ue,[a[18]||(a[18]=e("label",{for:"cheque-name"},"Received Amount :",-1)),r(e("input",{type:"text",class:"form-control",id:"name",placeholder:"Enter Cheque Name","onUpdate:modelValue":a[6]||(a[6]=s=>t.value.received_amount=s),disabled:""},null,512),[[i,t.value.received_amount]])])])]),e("div",me,[e("div",ce,[a[19]||(a[19]=e("label",{for:"cheque-name"},"Paid Amount :",-1)),r(e("input",{type:"number",class:"form-control",id:"name",placeholder:"Enter Paid Amount","onUpdate:modelValue":a[7]||(a[7]=s=>t.value.amount=s),required:""},null,512),[[i,t.value.amount]]),a[20]||(a[20]=e("div",{class:"invalid-feedback"}," Please Provide Enter Paid Amount ",-1))])]),a[21]||(a[21]=e("div",{class:"col-lg-6"},[e("label",{for:"warehouse-name"}),e("button",{type:"submit ",class:"btn btn-primary mt-4 category-btn"},"Save")],-1))],544)])])])])]),_:1}))}};export{ke as default};
