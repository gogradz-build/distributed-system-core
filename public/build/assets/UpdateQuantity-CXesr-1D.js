import{Q as $,d as L,r as a,f as F,n as Z,q as A,o as f,l as H,h as J,a as t,w as O,b as r,v as n,m as W,c as q,j as X,t as Y,F as z}from"./app-C2i026LC.js";import{_ as G}from"./AdminLayout-DxRoeMN4.js";import{$ as C}from"./dataTables.bootstrap4.min-73PbsmZ0.js";import"./Delta-CMnuj_9_.js";/* empty css                       */import"./AdminFooter-BK7-hYHZ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"row mb-2"},ee={class:"col-sm-6"},te={class:"breadcrumb float-sm-right mt-2"},se={class:"breadcrumb-item"},oe=["href"],ae={class:"breadcrumb-item"},de=["href"],le={class:"row"},re={class:"col-12"},ie={class:"card card-secondary"},ne={class:"card-body"},ce={class:"row"},ue={class:"col-lg-12"},me={class:"row"},fe={class:"col-4"},ve={class:"form-group"},pe={class:"col-8"},be={class:"form-group"},_e={class:"row"},we={class:"col-4"},he={class:"form-group"},ge={class:"col-8"},ye={class:"form-group"},ke=["value"],Pe={class:"row"},Ee={class:"col-4"},Ue={class:"form-group"},xe={class:"col-8"},je={class:"form-group"},Ve={__name:"UpdateQuantity",props:{product:Array},setup(D){var p,b,_,w,h,g,y,k,P;$();const c=L(),m=a(null),d=D,o=a({product_code:((p=d.product)==null?void 0:p.code)||"",name:((b=d.product)==null?void 0:b.name)||"",brand_id:((_=d.product)==null?void 0:_.brand_id)||"",old_quantity:((h=(w=d.product)==null?void 0:w.warehouse_stocks[0])==null?void 0:h.quantity)||"",warehouse_stock_id:((y=(g=d.product)==null?void 0:g.warehouse_stocks[0])==null?void 0:y.id)||"",warehouse_id:((P=(k=d.product)==null?void 0:k.warehouse_stocks[0])==null?void 0:P.warehouse_id)||"",new_quantity:"",remark:""});a({});const S=l=>{if(l.preventDefault(),!m.value.checkValidity()){m.value.classList.add("was-validated");return}A.put(`/adjustments/${d.product.id}`,o.value).then(e=>{var s,i;console.log(e),(s=e==null?void 0:e.data)!=null&&s.message?(localStorage.setItem("successMessage",e.data.message),window.location.href=route("admin.adjustment")):(i=e==null?void 0:e.data)!=null&&i.error&&c.error(e.data.error)}).catch(e=>{var s,i,E,U,x,j;(i=(s=e.response)==null?void 0:s.data)!=null&&i.errors?(console.log((U=(E=e.response)==null?void 0:E.data)==null?void 0:U.errors),Object.values(e.response.data.errors||{}).flat().forEach(I=>{c.error(I)})):(j=(x=e.response)==null?void 0:x.data)!=null&&j.message?c.error(e.response.data.message):c.error("An unexpected error occurred."),console.log(e)})};F(()=>{B(),Q(),R(),V(),C("#image").fileinput({theme:"fa",uploadUrl:"#",showRemove:!1,showUpload:!1,showZoom:!1,showCaption:!1,browseClass:"btn btn-danger",browseLabel:"",browseIcon:"<i class='fa fa-plus'></i>",overwriteInitial:!1,initialPreviewAsData:!0,fileActionSettings:{showUpload:!1,showZoom:!1,removeIcon:"<i class='fa fa-times'></i>"}}),Z(()=>{C("#courseTable").DataTable({responsive:!0,scrollX:!0,scrollY:"",scrollCollapse:!0,paging:!1})})}),a([]);const M=a([]),N=a([]),T=a([]),v=a([]),V=()=>u("/brands",v),B=()=>u("/categories",M),Q=()=>u("/suppliers",N),R=()=>u("/warehouses",T),u=async(l,e)=>{try{const s=await A.get(l);e.value=s.data}catch(s){console.error(`Error fetching data from ${l}:`,s)}};return(l,e)=>(f(),H(G,null,{default:J(()=>[t("div",K,[e[7]||(e[7]=t("div",{class:"col-sm-6"},[t("h4",{class:"mt-2"},"UPDATE ADJUSTMENT")],-1)),t("div",ee,[t("ol",te,[t("li",se,[t("a",{href:l.route("admin.dashboard")},"Home",8,oe)]),t("li",ae,[t("a",{href:l.route("admin.adjustment")},"Adjustment",8,de)]),e[6]||(e[6]=t("li",{class:"breadcrumb-item active"},"Update Adjustment",-1))])])]),t("div",le,[t("div",re,[t("div",ie,[e[20]||(e[20]=t("div",{class:"card-header card-header-background"},[t("h3",{class:"card-title"},"Update Adjustment"),t("div",{class:"card-tools"},[t("button",{type:"button",class:"btn btn-tool","data-card-widget":"collapse"},[t("i",{class:"fas fa-minus"})]),t("button",{type:"button",class:"btn btn-tool","data-card-widget":"remove"},[t("i",{class:"fas fa-times"})])])],-1)),t("div",ne,[t("form",{class:"needs-validation",ref_key:"formRef",ref:m,onSubmit:O(S,["prevent"]),novalidate:""},[t("div",ce,[t("div",ue,[t("div",me,[t("div",fe,[t("div",ve,[e[8]||(e[8]=t("label",{for:"code"},"Product Code :",-1)),r(t("input",{type:"text",class:"form-control",id:"code",placeholder:"Enter Product Code","onUpdate:modelValue":e[0]||(e[0]=s=>o.value.product_code=s),disabled:""},null,512),[[n,o.value.product_code]]),e[9]||(e[9]=t("div",{class:"invalid-feedback"}," Please Provide Enter Product Code ",-1))])]),t("div",pe,[t("div",be,[e[10]||(e[10]=t("label",{for:"name"},"Product Name :",-1)),r(t("input",{type:"text",class:"form-control",id:"name",placeholder:"Enter Product Name","onUpdate:modelValue":e[1]||(e[1]=s=>o.value.name=s),disabled:""},null,512),[[n,o.value.name]]),e[11]||(e[11]=t("div",{class:"invalid-feedback"}," Please Provide Enter Product Name ",-1))])])]),t("div",_e,[t("div",we,[t("div",he,[e[12]||(e[12]=t("label",{for:"code"},"Product Quantity :",-1)),r(t("input",{type:"text",class:"form-control",id:"code",placeholder:"Enter Product Code","onUpdate:modelValue":e[2]||(e[2]=s=>o.value.old_quantity=s),disabled:""},null,512),[[n,o.value.old_quantity]])])]),t("div",ge,[t("div",ye,[e[14]||(e[14]=t("label",{for:"name"},"Product Brand :",-1)),r(t("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":e[3]||(e[3]=s=>o.value.brand_id=s),disabled:""},[e[13]||(e[13]=t("option",{value:"",disabled:""},"Select Brand",-1)),(f(!0),q(z,null,X(v.value,s=>(f(),q("option",{key:s.id,value:s.id},Y(s.name),9,ke))),128))],512),[[W,o.value.brand_id]])])])]),t("div",Pe,[t("div",Ee,[t("div",Ue,[e[15]||(e[15]=t("label",{for:"code"},"New Quantity :",-1)),r(t("input",{type:"text",class:"form-control",id:"code",placeholder:"Enter Product Code","onUpdate:modelValue":e[4]||(e[4]=s=>o.value.new_quantity=s),required:""},null,512),[[n,o.value.new_quantity]]),e[16]||(e[16]=t("div",{class:"invalid-feedback"}," Please Provide Enter New Quantity ",-1))])]),t("div",xe,[t("div",je,[e[17]||(e[17]=t("label",{for:"name"},"Adjustment Remark :",-1)),r(t("input",{type:"text",class:"form-control",id:"name",placeholder:"Enter Product Name","onUpdate:modelValue":e[5]||(e[5]=s=>o.value.remark=s),required:""},null,512),[[n,o.value.remark]]),e[18]||(e[18]=t("div",{class:"invalid-feedback"}," Please Provide Enter Adjustment Remark ",-1))])])])])]),e[19]||(e[19]=t("div",{class:"row"},[t("div",{class:"col-12 d-flex justify-content-end"},[t("button",{type:"submit",class:"btn btn-primary"},"Save")])],-1))],544)])])])])]),_:1}))}};export{Ve as default};
