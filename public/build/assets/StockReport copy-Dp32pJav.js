import{e as V,r as o,f as F,p as k,o as i,g as P,h as B,a as e,b as L,d as u,v as $,k as g,c as r,l as m,t as a,F as p,q as A}from"./app-mDYLW31A.js";import{_ as j}from"./AdminLayout-UUPC1Aa5.js";import{D as G}from"./DeleteModel-BUvQdlI9.js";import"./index-DrsYIacS.js";import{$ as b}from"./dataTables.bootstrap4.min-B2_zjVPS.js";import"side-channel-list";import"side-channel-map";import"side-channel-weakmap";import"./AdminFooter-BVWJI1Iq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                    */const q={class:"row mb-2"},H={class:"col-sm-6"},z={class:"breadcrumb float-sm-right"},K={class:"breadcrumb-item"},W=["href"],X={class:"row mb-4"},Y={class:"col-12"},J={class:"row d-flex justify-content-start"},Q={class:"col-lg-3 col-12"},Z={class:"input-group mb-3"},ee={class:"col-lg-3 col-12"},te={class:"input-group mb-3"},se=["value"],le={class:"col-lg-3 col-12"},oe={class:"input-group mb-3"},ae=["value"],ie={class:"col-lg-3 col-12"},re={class:"input-group mb-3"},ne=["value"],de={class:"row"},ce={class:"col-12"},ue={class:"card card-secondary"},me={class:"card-body"},pe={id:"stockReportTable",class:"table table-hover"},fe={class:"d-flex justify-content-center align-items-center"},ve=["onClick"],Ie={__name:"StockReport copy",setup(ge){const n=V(),c=o(!1),h=o(""),f=o(null);function D(l,t){f.value=l,h.value=t,c.value=!0}function R(){f.value&&(I(f.value),c.value=!1)}const I=l=>{axios.delete(`/suppliers/${l}`).then(t=>{var s,d;(s=t==null?void 0:t.data)!=null&&s.message?(n.warning(t.data.message),_()):(d=t==null?void 0:t.data)!=null&&d.error&&n.error(t.data.error)}).catch(t=>{var s,d,v,M;(d=(s=t.response)==null?void 0:s.data)!=null&&d.errors?Object.values(t.response.data.errors||{}).flat().forEach(O=>{n.error(O)}):(M=(v=t.response)==null?void 0:v.data)!=null&&M.message?n.error(t.response.data.message):n.error("An unexpected error occurred."),console.error(t)})};F(()=>{_().then(()=>{E()}),k(()=>{const l=localStorage.getItem("successMessage");l&&(n.success(l),localStorage.removeItem("successMessage"))})});const y=o([]),_=async()=>{try{const l=await axios.get("/suppliers");y.value=l.data,console.log(l)}catch(l){console.error("Error fetching courses:",l)}};function E(){k(()=>{b.fn.DataTable.isDataTable("#stockReportTable")&&b("#stockReportTable").DataTable().destroy(),b("#stockReportTable").DataTable({responsive:!0,scrollX:!0,scrollY:"300px",scrollCollapse:!0,paging:!0});const l=localStorage.getItem("successMessage");l&&(n.success(l),localStorage.removeItem("successMessage"))})}const C=o([]),N=o([]),U=o([]);o([]);const w=o(""),x=o(0),S=o(0),T=o(0);return(l,t)=>(i(),P(j,null,{default:B(()=>[e("div",q,[t[6]||(t[6]=e("div",{class:"col-sm-6"},[e("h3",{class:"mt-3"},"STOCK REPORT"),e("button",{type:"button",class:"btn btn-secondary mt-4 mb-4"},[e("i",{class:"fas fa-solid fa-print",style:{color:"#ffffff","margin-right":"5px"}}),L("Supplier Record")])],-1)),e("div",H,[e("ol",z,[e("li",K,[e("a",{href:l.route("admin.dashboard")},"HOME",8,W)]),t[5]||(t[5]=e("li",{class:"breadcrumb-item active"},"SUPPLIER",-1))])])]),e("div",X,[e("div",Y,[e("div",J,[e("div",Q,[e("div",Z,[t[7]||(t[7]=e("span",{class:"input-group-text",id:"basic-addon1"},[e("img",{src:"/images/icon/calendar.png",alt:"",width:"20px"})],-1)),u(e("input",{type:"date",class:"form-control",placeholder:"Username","aria-label":"Username","onUpdate:modelValue":t[0]||(t[0]=s=>w.value=s),"aria-describedby":"basic-addon1",id:"dateInput",required:""},null,512),[[$,w.value]])])]),e("div",ee,[e("div",te,[t[9]||(t[9]=e("label",{class:"input-group-text",for:"inputGroupSelect01"},[e("img",{src:"/images/icon/home.png",alt:"",width:"20px"})],-1)),u(e("select",{class:"form-select",id:"warehouse","onUpdate:modelValue":t[1]||(t[1]=s=>x.value=s)},[t[8]||(t[8]=e("option",{selected:"",disabled:"",value:"0"},"Select WareHouse",-1)),(i(!0),r(p,null,m(N.value,s=>(i(),r("option",{key:s.id,value:s.id},a(s.name),9,se))),128))],512),[[g,x.value]])])]),e("div",le,[e("div",oe,[t[11]||(t[11]=e("label",{class:"input-group-text",for:"inputGroupSelect02"},[e("img",{src:"/images/icon/home.png",alt:"",width:"20px"})],-1)),u(e("select",{class:"form-select",id:"shop","onUpdate:modelValue":t[2]||(t[2]=s=>S.value=s)},[t[10]||(t[10]=e("option",{selected:"",disabled:"",value:"0"},"Select shop",-1)),(i(!0),r(p,null,m(C.value,s=>(i(),r("option",{key:s.id,value:s.id},a(s.name),9,ae))),128))],512),[[g,S.value]])])]),e("div",ie,[e("div",re,[t[13]||(t[13]=e("label",{class:"input-group-text",for:"inputGroupSelect02"},[e("img",{src:"/images/icon/home.png",alt:"",width:"20px"})],-1)),u(e("select",{class:"form-select",id:"ref","onUpdate:modelValue":t[3]||(t[3]=s=>T.value=s)},[t[12]||(t[12]=e("option",{selected:"",disabled:"",value:"0"},"Select Ref",-1)),(i(!0),r(p,null,m(U.value,s=>(i(),r("option",{key:s.id,value:s.id},a(s.first_name),9,ne))),128))],512),[[g,T.value]])])])])])]),e("div",de,[e("div",ce,[e("div",ue,[e("div",me,[t[17]||(t[17]=e("h6",{style:{"font-weight":"700"},class:""}," SUPPLIER TABLE",-1)),t[18]||(t[18]=e("hr",null,null,-1)),e("table",pe,[t[16]||(t[16]=e("thead",null,[e("tr",null,[e("th",{style:{width:"8%"}},"ID"),e("th",{style:{width:"10%"}},"First Name"),e("th",{style:{width:"10%"}},"Last Name"),e("th",{style:{width:"20%"}},"Email"),e("th",{style:{width:"10%"}},"Phone No"),e("th",{style:{width:"20%"}},"Address"),e("th",{style:{width:"20%"}},"NIC No"),e("th",{style:{"text-align":"center",width:"8%"}},"Action")])],-1)),e("tbody",null,[(i(!0),r(p,null,m(y.value,(s,d)=>(i(),r("tr",{key:s.id},[e("td",null,a(1+d),1),e("td",null,a(s.first_name),1),e("td",null,a(s.last_name),1),e("td",null,a(s.email),1),e("td",null,a(s.phone_number),1),e("td",null,a(s.address),1),e("td",null,a(s.nic_number),1),e("td",fe,[t[15]||(t[15]=e("a",{href:""},[e("i",{class:"fas fa-solid fa-pen mr-4",style:{color:"#281cdf"}})],-1)),e("a",{onClick:v=>D(s.id,"Delete Supplier"),style:{cursor:"pointer"}},t[14]||(t[14]=[e("i",{class:"fas fa-solid fa-trash mr-4",style:{color:"#FF0000"}},null,-1)]),8,ve)])]))),128))])])])])])]),A(G,{isModalOpen:c.value,modalTitle:h.value,onClose:t[4]||(t[4]=s=>c.value=!1),onConfirmDelete:R},null,8,["isModalOpen","modalTitle"])]),_:1}))}};export{Ie as default};
