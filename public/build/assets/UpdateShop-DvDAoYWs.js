import{d as _,r as c,f as w,n as E,o as y,l as P,h as V,a as s,w as x,b as d,v as i}from"./app-DuMmWb0e.js";import{_ as k}from"./AdminLayout-CuGKItQZ.js";import"./index-C4SQfzFt.js";import"./dataTables.bootstrap4.min-Db9EHKM2.js";import"./AdminFooter-i6V7ulTS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"row mb-2"},S={class:"col-sm-6"},U={class:"breadcrumb float-sm-right mt-2"},A={class:"breadcrumb-item"},q=["href"],M={class:"breadcrumb-item"},D=["href"],I={class:"row"},T={class:"col-12"},B={class:"card card-secondary"},C={class:"card-body"},O={class:"row"},$={class:"col-lg-6"},L={class:"form-group"},R={class:"col-lg-6"},j={class:"form-group"},H={class:"row"},X={class:"form-group col-lg-6"},z={class:"col-lg-6"},F={class:"form-group"},G={class:"row"},J={class:"col-lg-6"},K={class:"form-group"},Q={class:"col-lg-6"},W={class:"form-group"},Y={class:"row"},Z={class:"col-lg-12"},ee={class:"form-group"},ie={__name:"UpdateShop",props:{shop:Array},setup(v){const n=_(),u=c(null),a=v,t=c({name:a.shop.name,owner_name:a.shop.owner_name,contact:a.shop.contact,address:a.shop.address,ref_id:a.shop.ref_id,credit_limit:a.shop.credit_limit,email:a.shop.email,telephone_number:a.shop.telephone_number}),f=l=>{if(l.preventDefault(),!u.value.checkValidity()){u.value.classList.add("was-validated");return}axios.put(`/shops/${a.shop.id}`,t.value).then(e=>{var o,r;(o=e==null?void 0:e.data)!=null&&o.message?(localStorage.setItem("successMessage",e.data.message),window.location.href=route("admin.show.shop")):(r=e==null?void 0:e.data)!=null&&r.error&&n.error(e.data.error)}).catch(e=>{var o,r,m,p;(r=(o=e.response)==null?void 0:o.data)!=null&&r.errors?Object.values(e.response.data.errors||{}).flat().forEach(g=>{n.error(g)}):(p=(m=e.response)==null?void 0:m.data)!=null&&p.message?n.error(e.response.data.message):n.error("An unexpected error occurred."),console.error(e)})};w(()=>{h(),E(()=>{const l=document.getElementById("nic-number");l.addEventListener("input",e=>{const r=e.target.value.replace(/[^0-9VvXx]/g,"");e.target.value=r;const m=/^\d{9}[VvXx]$|^\d{12}$/.test(r);l.setCustomValidity(m?"":"Invalid NIC number")})})});const b=c([]),h=async()=>{try{const l=await axios.get("/refs");b.value=l.data,console.log(l)}catch(l){console.error("Error fetching courses:",l)}};return(l,e)=>(y(),P(k,null,{default:V(()=>[s("div",N,[e[8]||(e[8]=s("div",{class:"col-sm-6"},[s("h4",{class:"mt-2"},"UPDATE SHOP")],-1)),s("div",S,[s("ol",U,[s("li",A,[s("a",{href:l.route("admin.dashboard")},"Home",8,q)]),s("li",M,[s("a",{href:l.route("admin.show.shop")},"Shop",8,D)]),e[7]||(e[7]=s("li",{class:"breadcrumb-item active"},"Update Shop",-1))])])]),s("div",I,[s("div",T,[s("div",B,[e[24]||(e[24]=s("div",{class:"card-header card-header-background"},[s("h3",{class:"card-title"},"Shop Details "),s("div",{class:"card-tools"},[s("button",{type:"button",class:"btn btn-tool","data-card-widget":"collapse"},[s("i",{class:"fas fa-minus"})]),s("button",{type:"button",class:"btn btn-tool","data-card-widget":"remove"},[s("i",{class:"fas fa-times"})])])],-1)),s("div",C,[s("form",{class:"needs-validation",ref_key:"formRef",ref:u,onSubmit:x(f,["prevent"]),novalidate:""},[s("div",O,[s("div",$,[s("div",L,[e[9]||(e[9]=s("label",{for:"name"},"Shop Name :",-1)),d(s("input",{type:"text",class:"form-control",id:"shop-name",placeholder:"Enter Shop Name","onUpdate:modelValue":e[0]||(e[0]=o=>t.value.name=o),required:""},null,512),[[i,t.value.name]]),e[10]||(e[10]=s("div",{class:"invalid-feedback"}," Please Provide Enter Shop Name ",-1))])]),s("div",R,[s("div",j,[e[11]||(e[11]=s("label",{for:"last-name"},"Owner Name:",-1)),d(s("input",{type:"text",class:"form-control",id:"owner_name",placeholder:"Enter owner_name","onUpdate:modelValue":e[1]||(e[1]=o=>t.value.owner_name=o),required:""},null,512),[[i,t.value.owner_name]]),e[12]||(e[12]=s("div",{class:"invalid-feedback"}," Please Provide Enter Owner name ",-1))])])]),s("div",H,[s("div",X,[e[13]||(e[13]=s("label",{for:"inputEmail4"},"Email :",-1)),d(s("input",{type:"email",class:"form-control",id:"inputEmail4",placeholder:"Enter Email Address","onUpdate:modelValue":e[2]||(e[2]=o=>t.value.email=o),required:""},null,512),[[i,t.value.email]]),e[14]||(e[14]=s("div",{class:"invalid-feedback"}," Please Provide Enter Valid Email Address ",-1))]),s("div",z,[s("div",F,[e[15]||(e[15]=s("label",{for:"phone-number"},"Phone Number :",-1)),d(s("input",{type:"text",class:"form-control",id:"",placeholder:"Enter Phone Number","onUpdate:modelValue":e[3]||(e[3]=o=>t.value.contact=o),required:""},null,512),[[i,t.value.contact]]),e[16]||(e[16]=s("div",{class:"invalid-feedback"}," Please Provide Enter Valid Phone Number ",-1))])])]),s("div",G,[s("div",J,[s("div",K,[e[17]||(e[17]=s("label",{for:"phone-number"},"Telephone Number :",-1)),d(s("input",{type:"text",class:"form-control",id:"",placeholder:"Enter Phone Number","onUpdate:modelValue":e[4]||(e[4]=o=>t.value.telephone_number=o)},null,512),[[i,t.value.telephone_number]]),e[18]||(e[18]=s("div",{class:"invalid-feedback"}," Please Provide Enter Valid Phone Number ",-1))])]),s("div",Q,[s("div",W,[e[19]||(e[19]=s("label",{for:"credit_limit"},"Credit Limit :",-1)),d(s("input",{type:"number",class:"form-control",id:"credit_limit",placeholder:"Enter credit limit","onUpdate:modelValue":e[5]||(e[5]=o=>t.value.credit_limit=o),required:""},null,512),[[i,t.value.credit_limit]]),e[20]||(e[20]=s("div",{class:"invalid-feedback"}," Please Provide credit limit ",-1))])])]),s("div",Y,[s("div",Z,[s("div",ee,[e[21]||(e[21]=s("label",{for:"address"},"Address :",-1)),d(s("input",{type:"text",class:"form-control",id:"address",placeholder:"Enter Address","onUpdate:modelValue":e[6]||(e[6]=o=>t.value.address=o),required:""},null,512),[[i,t.value.address]]),e[22]||(e[22]=s("div",{class:"invalid-feedback"}," Please Provide Address ",-1))])])]),e[23]||(e[23]=s("div",{class:"row"},[s("div",{class:"col-lg-12 d-flex justify-content-end"},[s("button",{type:"submit",class:"btn btn-primary"},"Update Shop")])],-1))],544)])])])])]),_:1}))}};export{ie as default};
