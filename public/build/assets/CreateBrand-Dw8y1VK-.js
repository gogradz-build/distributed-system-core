import{e as C,r as n,f as S,p as h,j as A,n as p,o as y,g as E,h as O,a as e,b as R,w as F,d as V,v as $,c as _,l as I,t as w,F as j,q as L}from"./app-JnpFVuSp.js";import{_ as q}from"./AdminLayout-CP0E-03s.js";import{D as X}from"./DeleteModel-BRrvAzfs.js";import{$ as d}from"./dataTables.bootstrap4.min-DdNG8ZfS.js";import"./AdminFooter-CrMPERQ2.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                    */const z={class:"row mb-2"},H={class:"col-sm-6"},P={class:"breadcrumb float-sm-right"},U={class:"breadcrumb-item"},G=["href"],J={class:"row"},K={class:"col-12"},Q={class:"card card-secondary"},W={class:"card-body"},Y={class:"row"},Z={class:"col-lg-6"},aa={class:"form-group"},ea={class:"row"},sa={class:"col-12"},ta={class:"card card-secondary"},la={class:"card-body"},ra={id:"brandTable",class:"table table-hover"},oa={class:"text-center"},da=["onClick"],ga={__name:"CreateBrand",setup(na){const r=C(),i=n([]),u=n({name:""}),b=n(null),f=n(!1),T=n(""),v=n(null);S(()=>{D().then(()=>{m()}),h(()=>{const s=localStorage.getItem("successMessage");s&&(r.success(s),localStorage.removeItem("successMessage"))})}),A(i,()=>{m()});const D=async()=>{try{const s=await p.get("/brands");i.value=s.data}catch(s){console.error("Error fetching courses:",s)}},M=s=>{if(s.preventDefault(),!b.value.checkValidity()){b.value.classList.add("was-validated");return}p.post("/brands",u.value).then(a=>{var t,l;(t=a==null?void 0:a.data)!=null&&t.message?(r.success(a.data.message),u.value.name="",d.fn.DataTable.isDataTable("#brandTable")&&(d("#brandTable").DataTable().destroy(),D().then(()=>{m()}))):(l=a==null?void 0:a.data)!=null&&l.error&&r.error(a.data.error)}).catch(a=>{var t,l,o,c;(l=(t=a.response)==null?void 0:t.data)!=null&&l.errors?Object.values(a.response.data.errors||{}).flat().forEach(g=>{r.error(g)}):(c=(o=a.response)==null?void 0:o.data)!=null&&c.message?r.error(a.response.data.message):r.error("An unexpected error occurred."),console.error(a)})},B=s=>{p.delete(`/brands/${s}`).then(a=>{var t,l;(t=a==null?void 0:a.data)!=null&&t.message?(r.warning(a.data.message),i.value=i.value.filter(o=>o.id!==s),d.fn.DataTable.isDataTable("#brandTable")&&d("#brandTable").DataTable().destroy(),h(()=>{m()})):(l=a==null?void 0:a.data)!=null&&l.error&&r.error(a.data.error)}).catch(a=>{var t,l,o,c;(l=(t=a.response)==null?void 0:t.data)!=null&&l.errors?Object.values(a.response.data.errors||{}).flat().forEach(g=>{r.error(g)}):(c=(o=a.response)==null?void 0:o.data)!=null&&c.message?r.error(a.response.data.message):r.error("An unexpected error occurred."),console.error(a)})};function m(){h(()=>{d.fn.DataTable.isDataTable("#brandTable")&&d("#brandTable").DataTable().destroy(),d("#brandTable").DataTable({responsive:!0,scrollX:!0,scrollX:"200px",scrollCollapse:!1,paging:!0});const s=localStorage.getItem("successMessage");s&&(r.success(s),localStorage.removeItem("successMessage"))})}function x(s,a){v.value=s,T.value=a,f.value=!0}function k(){v.value&&(B(v.value),f.value=!1)}return(s,a)=>(y(),E(q,null,{default:O(()=>[e("div",z,[a[3]||(a[3]=e("div",{class:"col-sm-6"},[e("h3",{class:"mt-3"},"BRAND"),e("button",{type:"button",class:"btn btn-secondary mt-4 mb-4"},[e("i",{class:"fas fa-solid fa-print",style:{color:"#ffffff","margin-right":"5px"}}),R("Brands Report")])],-1)),e("div",H,[e("ol",P,[e("li",U,[e("a",{href:s.route("admin.dashboard")},"HOME",8,G)]),a[2]||(a[2]=e("li",{class:"breadcrumb-item active"},"BRAND",-1))])])]),e("div",J,[e("div",K,[e("div",Q,[a[7]||(a[7]=e("div",{class:"card-header card-header-background"},[e("h3",{class:"card-title"},"Create New Brand"),e("div",{class:"card-tools"},[e("button",{type:"button",class:"btn btn-tool","data-card-widget":"collapse"},[e("i",{class:"fas fa-minus"})]),e("button",{type:"button",class:"btn btn-tool","data-card-widget":"remove"},[e("i",{class:"fas fa-times"})])])],-1)),e("div",W,[e("form",{class:"needs-validation",ref_key:"formRef",ref:b,onSubmit:F(M,["prevent"]),novalidate:""},[e("div",Y,[e("div",Z,[e("div",aa,[a[4]||(a[4]=e("label",{for:"brand-name"},"Brand Name :",-1)),V(e("input",{type:"text",class:"form-control",id:"name",placeholder:"Enter brand Name","onUpdate:modelValue":a[0]||(a[0]=t=>u.value.name=t),required:""},null,512),[[$,u.value.name]]),a[5]||(a[5]=e("div",{class:"invalid-feedback"}," Please provide a brand name ",-1))])]),a[6]||(a[6]=e("div",{class:"col-lg-6"},[e("label",{for:"brand-name"}),e("button",{type:"submit ",class:"btn btn-primary brand-btn",style:{"margin-top":"32px"}},"Save")],-1))])],544)])])])]),e("div",ea,[e("div",sa,[e("div",ta,[e("div",la,[a[12]||(a[12]=e("h6",{style:{"font-weight":"700"},class:""}," BRAND TABLE",-1)),a[13]||(a[13]=e("hr",null,null,-1)),e("table",ra,[a[11]||(a[11]=e("thead",null,[e("tr",null,[e("th",{width:"100px"},"id"),e("th",{width:"85%"},"Brands Name"),e("th",{width:"20%"},"Action")])],-1)),e("tbody",null,[(y(!0),_(j,null,I(i.value,(t,l)=>(y(),_("tr",{key:t.id},[e("td",null,w(1+l),1),e("td",null,w(t.name),1),e("td",oa,[a[9]||(a[9]=e("a",{href:""},[e("i",{class:"fas fa-regular fa-eye mr-4",style:{color:"#0a7c46"}})],-1)),a[10]||(a[10]=e("a",{href:""},[e("i",{class:"fas fa-solid fa-pen mr-4",style:{color:"#281cdf"}})],-1)),e("a",{onClick:o=>x(t.id,"Delete Brand"),style:{cursor:"pointer"}},a[8]||(a[8]=[e("i",{class:"fas fa-solid fa-trash mr-4",style:{color:"#FF0000"}},null,-1)]),8,da)])]))),128))])])])])])]),L(X,{isModalOpen:f.value,modalTitle:T.value,onClose:a[1]||(a[1]=t=>f.value=!1),onConfirmDelete:k},null,8,["isModalOpen","modalTitle"])]),_:1}))}};export{ga as default};
