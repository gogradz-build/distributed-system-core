import{_ as D}from"./AdminLayout-DxRoeMN4.js";import{D as p}from"./DeleteModel-C5VXcLeW.js";import{d as x,r as i,f as S,n as b,o as d,l as k,h as C,a as e,c as v,j as A,t as n,F as B,g as E}from"./app-C2i026LC.js";import"./index-BKeKyArJ.js";import{$ as u}from"./dataTables.bootstrap4.min-73PbsmZ0.js";import"./AdminFooter-BK7-hYHZ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                    */const N={class:"row mb-2"},O={class:"col-sm-6"},P={class:"breadcrumb float-sm-right mt-2"},j={class:"breadcrumb-item"},I=["href"],U={class:"row"},$={class:"col-12"},F={class:"card card-secondary"},J={class:"card-body"},L={id:"productTable",class:"table table-hover"},R={class:"justify-content-center align-items-center"},V=["href"],tt={__name:"ProductManagement",setup(q){const l=x(),c=i(!1),_=i(""),m=i(null);function T(){m.value&&(w(m.value),c.value=!1)}const w=s=>{console.log(s),axios.delete(`/products/${s}`).then(t=>{var a,o,r;(a=t==null?void 0:t.data)!=null&&a.message?(l.warning(t.data.message),f()):(o=t==null?void 0:t.data)!=null&&o.warning?l.warning(t.data.warning):(r=t==null?void 0:t.data)!=null&&r.error&&l.error(t.data.error)}).catch(t=>{var a,o,r,h;(o=(a=t.response)==null?void 0:a.data)!=null&&o.errors?Object.values(t.response.data.errors||{}).flat().forEach(M=>{l.error(M)}):(h=(r=t.response)==null?void 0:r.data)!=null&&h.message?l.error(t.response.data.message):l.error("An unexpected error occurred."),console.error(t)})};S(()=>{f().then(()=>{y()}),b(()=>{const s=localStorage.getItem("successMessage");s&&(l.success(s),localStorage.removeItem("successMessage"))})});const g=i([]),f=async()=>{try{const s=await axios.get("/products");g.value=s.data,console.log(s)}catch(s){console.error("Error fetching courses:",s)}};function y(){b(()=>{u.fn.DataTable.isDataTable("#productTable")&&u("#productTable").DataTable().destroy(),u("#productTable").DataTable({responsive:!0,scrollX:!0,scrollY:"",scrollCollapse:!0,paging:!0});const s=localStorage.getItem("successMessage");s&&(l.success(s),localStorage.removeItem("successMessage"))})}return(s,t)=>(d(),k(D,null,{default:C(()=>[e("div",N,[t[2]||(t[2]=e("div",{class:"col-sm-6"},[e("h4",{class:"mt-2"},"PRODUCTS ADJUSTMENT")],-1)),e("div",O,[e("ol",P,[e("li",j,[e("a",{href:s.route("admin.dashboard")},"Home",8,I)]),t[1]||(t[1]=e("li",{class:"breadcrumb-item active"},"Adjustment",-1))])])]),e("div",U,[e("div",$,[e("div",F,[e("div",J,[t[5]||(t[5]=e("h6",{style:{"font-weight":"700"},class:""},"PRODUCT ADJUSTMENT TABLE",-1)),t[6]||(t[6]=e("hr",null,null,-1)),e("table",L,[t[4]||(t[4]=e("thead",null,[e("tr",null,[e("th",{style:{width:"8%"}},"#"),e("th",{style:{width:"20%"}},"Product Code"),e("th",{style:{width:"30%"}},"Product Name"),e("th",{style:{width:"10%"}},"Brand Name"),e("th",{style:{width:"10%"}},"Quantity"),e("th",{style:{"text-align":"center",width:"8%"}},"Action")])],-1)),e("tbody",null,[(d(!0),v(B,null,A(g.value,(a,o)=>(d(),v("tr",{key:a.id},[e("td",null,n(1+o),1),e("td",null,n(a.code),1),e("td",null,n(a.name),1),e("td",null,n(a.brand.name),1),e("td",null,n(a.warehouse_stocks.length>0?a.warehouse_stocks[0].quantity:0),1),e("td",R,[e("a",{href:s.route("adjustments.edit",a.id)},t[3]||(t[3]=[e("img",{src:"/images/icon/edit.png",alt:"",width:"25px",height:"25px",class:"mr-2 table-action-icon"},null,-1)]),8,V)])]))),128))])])])])])]),E(p,{isModalOpen:c.value,modalTitle:_.value,onClose:t[0]||(t[0]=a=>c.value=!1),onConfirmDelete:T},null,8,["isModalOpen","modalTitle"])]),_:1}))}};export{tt as default};
