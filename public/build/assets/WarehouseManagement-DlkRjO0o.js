import{e as S,r as n,f as N,p as T,n as g,o as y,g as C,h as O,a,b as A,w as I,d as B,v as F,c as _,l as R,t as D,F as V,q as $}from"./app-JnpFVuSp.js";import{_ as H}from"./AdminLayout-CP0E-03s.js";import{D as L}from"./DeleteModel-BRrvAzfs.js";import{$ as r}from"./dataTables.bootstrap4.min-DdNG8ZfS.js";import"./AdminFooter-CrMPERQ2.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                    */const U={class:"row mb-2"},j={class:"col-sm-6"},q={class:"breadcrumb float-sm-right"},P={class:"breadcrumb-item"},z=["href"],X={class:"row"},G={class:"col-12"},J={class:"card card-secondary"},K={class:"card-body"},Q={class:"row"},Y={class:"col-6"},Z={class:"form-group"},ee={class:"row"},ae={class:"col-12"},se={class:"card card-secondary"},te={class:"card-body"},oe={id:"warehouseTable",class:"table table-hover"},le={class:"text-center"},re=["onClick"],he={__name:"WarehouseManagement",setup(ie){const l=S(),c=n({name:""}),f=n(null),u=n(!1),p=n(""),m=n(null);function M(t,e){m.value=t,p.value=e,u.value=!0}function x(){m.value&&(W(m.value),u.value=!1)}const W=t=>{g.delete(`/warehouses/${t}`).then(e=>{var s,o;(s=e==null?void 0:e.data)!=null&&s.message?(l.warning(e.data.message),r.fn.DataTable.isDataTable("#warehouseTable")&&(r("#warehouseTable").DataTable().destroy(),b().then(()=>{h()}))):(o=e==null?void 0:e.data)!=null&&o.error&&l.error(e.data.error)}).catch(e=>{var s,o,i,d;(o=(s=e.response)==null?void 0:s.data)!=null&&o.errors?Object.values(e.response.data.errors||{}).flat().forEach(v=>{l.error(v)}):(d=(i=e.response)==null?void 0:i.data)!=null&&d.message?l.error(e.response.data.message):l.error("An unexpected error occurred."),console.error(e)})},k=t=>{if(t.preventDefault(),!f.value.checkValidity()){f.value.classList.add("was-validated");return}g.post("/warehouses",c.value).then(e=>{var s,o;(s=e==null?void 0:e.data)!=null&&s.message?(l.success(e.data.message),c.value.name="",r.fn.DataTable.isDataTable("#warehouseTable")&&(r("#warehouseTable").DataTable().destroy(),b().then(()=>{h()}))):(o=e==null?void 0:e.data)!=null&&o.error&&l.error(e.data.error)}).catch(e=>{var s,o,i,d;(o=(s=e.response)==null?void 0:s.data)!=null&&o.errors?Object.values(e.response.data.errors||{}).flat().forEach(v=>{l.error(v)}):(d=(i=e.response)==null?void 0:i.data)!=null&&d.message?l.error(e.response.data.message):l.error("An unexpected error occurred."),console.error(e)})};N(()=>{b().then(()=>{h()}),T(()=>{const t=localStorage.getItem("successMessage");t&&(l.success(t),localStorage.removeItem("successMessage"))})});const w=n([]),b=async()=>{try{const t=await g.get("/warehouses");w.value=t.data}catch(t){console.error("Error fetching courses:",t)}};function h(){T(()=>{r.fn.DataTable.isDataTable("#warehouseTable")&&r("#warehouseTable").DataTable().destroy(),r("#warehouseTable").DataTable({responsive:!0,scrollX:!0,scrollCollapse:!0,paging:!0});const t=localStorage.getItem("successMessage");t&&(l.success(t),localStorage.removeItem("successMessage"))})}return(t,e)=>(y(),C(H,null,{default:O(()=>[a("div",U,[e[3]||(e[3]=a("div",{class:"col-sm-6"},[a("h3",{class:"mt-3"},"WAREHOUSE"),a("button",{type:"button",class:"btn btn-secondary mt-4 mb-4"},[a("i",{class:"fas fa-solid fa-print",style:{color:"#ffffff","margin-right":"5px"}}),A("Warehouse Report")])],-1)),a("div",j,[a("ol",q,[a("li",P,[a("a",{href:t.route("admin.dashboard")},"Home",8,z)]),e[2]||(e[2]=a("li",{class:"breadcrumb-item active"},"Warehouse",-1))])])]),a("div",X,[a("div",G,[a("div",J,[e[7]||(e[7]=a("div",{class:"card-header card-header-background"},[a("h3",{class:"card-title"},"Create New Warehouse"),a("div",{class:"card-tools"},[a("button",{type:"button",class:"btn btn-tool","data-card-widget":"collapse"},[a("i",{class:"fas fa-minus"})]),a("button",{type:"button",class:"btn btn-tool","data-card-widget":"remove"},[a("i",{class:"fas fa-times"})])])],-1)),a("div",K,[a("form",{class:"needs-validation",ref_key:"formRef",ref:f,onSubmit:I(k,["prevent"]),novalidate:""},[a("div",Q,[a("div",Y,[a("div",Z,[e[4]||(e[4]=a("label",{for:"warehouse-name"},"Warehouse Name :",-1)),B(a("input",{type:"text",class:"form-control",id:"name",placeholder:"Enter Warehouse Name","onUpdate:modelValue":e[0]||(e[0]=s=>c.value.name=s),required:""},null,512),[[F,c.value.name]]),e[5]||(e[5]=a("div",{class:"invalid-feedback"}," Please Provide Enter Warehouse Name ",-1))])]),e[6]||(e[6]=a("div",{class:"col-lg-6"},[a("button",{type:"submit ",class:"btn btn-primary mt-4 category-btn"},"Save")],-1))])],544)])])])]),a("div",ee,[a("div",ae,[a("div",se,[a("div",te,[e[12]||(e[12]=a("h6",{style:{"font-weight":"700"},class:""},"WAREHOUSE TABLE",-1)),e[13]||(e[13]=a("hr",null,null,-1)),a("table",oe,[e[11]||(e[11]=a("thead",null,[a("tr",null,[a("th",{width:"100px"},"Warehouses Id"),a("th",{width:"85%"},"Warehouses Name"),a("th",{width:"20%",style:{"text-align":"center"}},"Action")])],-1)),a("tbody",null,[(y(!0),_(V,null,R(w.value,(s,o)=>(y(),_("tr",{key:s.id},[a("td",null,D(1+o),1),a("td",null,D(s.name),1),a("td",le,[e[9]||(e[9]=a("a",{href:""},[a("i",{class:"fas fa-regular fa-eye mr-4",style:{color:"#0a7c46"}})],-1)),e[10]||(e[10]=a("a",{href:""},[a("i",{class:"fas fa-solid fa-pen mr-4",style:{color:"#281cdf"}})],-1)),a("a",{onClick:i=>M(s.id,"Delete Warehouse"),style:{cursor:"pointer"}},e[8]||(e[8]=[a("i",{class:"fas fa-solid fa-trash mr-4",style:{color:"#FF0000"}},null,-1)]),8,re)])]))),128))])])])])])]),$(L,{isModalOpen:u.value,modalTitle:p.value,onClose:e[1]||(e[1]=s=>u.value=!1),onConfirmDelete:x},null,8,["isModalOpen","modalTitle"])]),_:1}))}};export{he as default};
