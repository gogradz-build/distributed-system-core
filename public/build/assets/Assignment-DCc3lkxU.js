import{_ as y}from"./StudentDashboardLayout-DPF5uw6m.js";import{r as f,e as w,o as c,g as k,h as C,a as s,t as r,c as n,l as F,s as x,F as D}from"./app-mDYLW31A.js";import"./AdminFooter-BVWJI1Iq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"side-channel-list";import"side-channel-map";import"side-channel-weakmap";const N={class:"row"},j={class:"col-lg-12"},A={class:"text-center"},S=["id"],E={class:"accordion-item"},T={class:"accordion-header",id:"flush-headingThree"},B=["data-bs-target"],$=["id"],I={class:"accordion-body"},M={class:"row"},P={class:"col-12"},V={class:"row"},H={class:"col-4 d-flex justify-content-end align-items-end"},L=["onClick"],O={key:0},Y={key:1},q={class:"col-6"},z={class:"col-2"},G=["onClick","disabled"],J={class:"accordion-body"},K={class:"col-12"},Q={class:"row"},R={class:"col-12 d-flex justify-content-center align-items-center"},U={key:0},W={class:"col-12 d-flex justify-content-center align-items-center mt-3"},X=["onClick"],Z={key:0},ss={key:1},ds={__name:"Assignment",props:{assignments:Array,courseName:String},setup(u){const m=f(!1),d=f(null),l=w(),v=o=>{d.value=o.target.files},p=o=>{if(!d.value){l.warning("Please select a PDF file to submit");return}m.value=!0;const t=new FormData;t.append("assignmentId",o);for(let e=0;e<d.value.length;e++)t.append("files[]",d.value[e]);axios.post(route("assignment.submit"),t).then(e=>{var a,i;console.log(e),(a=e==null?void 0:e.data)!=null&&a.message?(l.success("Note created successfully"),setTimeout(()=>{window.location.reload()},1500)):(i=e==null?void 0:e.data)!=null&&i.error&&l.error(e.data.error)}).catch(e=>{var a,i,h,b;(i=(a=e.response)==null?void 0:a.data)!=null&&i.errors?Object.values(e.response.data.errors||{}).flat().forEach(g=>{l.error(g)}):(b=(h=e.response)==null?void 0:h.data)!=null&&b.message?l.error(e.response.data.message):l.error("An unexpected error occurred."),console.log(e)})},_=o=>{if(o){const t=document.createElement("a");t.href="/storage/"+o,t.download=o.split("/").pop(),document.body.appendChild(t),t.click(),document.body.removeChild(t)}else alert("No document available")};return(o,t)=>(c(),k(y,null,{default:C(()=>[t[0]||(t[0]=s("div",{class:"row mb-2"},[s("div",{class:"col-sm-6"},[s("h1",{class:"m-0"},"Assignments")]),s("div",{class:"col-sm-6"},[s("ol",{class:"breadcrumb float-sm-right"},[s("li",{class:"breadcrumb-item"},[s("a",{href:"#"},"Home")]),s("li",{class:"breadcrumb-item active"},"Assignments")])])],-1)),s("div",N,[s("div",j,[s("h2",A,r(u.courseName),1)])]),(c(!0),n(D,null,F(u.assignments,(e,a)=>(c(),n("div",{class:"row mb-4",key:o.subject_id},[s("h4",null,"Assignment "+r(a+1),1),s("div",{class:"accordion accordion-flush",id:o.accordionFlushExample},[s("div",E,[s("h2",T,[s("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#subject-9"+a,"aria-expanded":"false","aria-controls":"flush-collapseThree"}," Diversity and Inclusion (Submission time on or before "+r(e.deadline)+") ",9,B)]),s("div",{id:"subject-9"+a,class:"accordion-collapse collapse","aria-labelledby":"flush-headingThree","data-bs-parent":"#accordionFlushExample"},[s("div",I,[s("div",M,[s("div",P,[s("div",V,[s("div",H,[s("button",{class:"btn btn-success",onClick:i=>_(e.assignment_url)},[e.assignment_url?(c(),n("span",O,"Download Assignment")):(c(),n("span",Y,"No document available"))],8,L)]),s("div",q,[s("input",{class:"form-control",type:"file",id:"formFile",onChange:v},null,32)]),s("div",z,[s("button",{class:"btn btn-primary",onClick:i=>p(e.id),disabled:m.value}," Submit ",8,G)])])])]),s("div",J,[s("div",K,[s("div",Q,[s("div",R,[e.submission&&e.submission.submit_time?(c(),n("span",U," You have uploaded your answers on "+r(e.submission.submit_time),1)):x("",!0)]),s("div",W,[s("button",{class:"btn btn-warning",onClick:i=>_(e.submission.submit_url)},[e.submission&&e.assignment_url?(c(),n("span",Z,"Download your answers")):(c(),n("span",ss,"Not submit"))],8,X)])])])])])],8,$)])],8,S)]))),128))]),_:1}))}};export{ds as default};
