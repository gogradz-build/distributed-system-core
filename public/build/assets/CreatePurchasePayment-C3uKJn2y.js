import{_ as g}from"./AdminLayout-DxRoeMN4.js";import{D as _}from"./DeleteModel-C5VXcLeW.js";import{d as y,f as b,n as u,r as f,o,l as T,h as v,a as e,c as l,j as w,t as n,s as i,F as M,g as C}from"./app-C2i026LC.js";import"./index-BKeKyArJ.js";import{$ as d}from"./dataTables.bootstrap4.min-73PbsmZ0.js";import"./AdminFooter-BK7-hYHZ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                    */const D={class:"row mb-2"},P={class:"col-sm-6"},k={class:"breadcrumb float-sm-right mt-2"},S={class:"breadcrumb-item"},A=["href"],E={class:"row"},N={class:"col-12"},B={class:"card card-secondary"},I={class:"card-body"},O={id:"purchasesTable",class:"table table-hover"},H={key:0,class:"badge badge-success"},V={key:1,class:"badge badge-info"},Y={key:2,class:"badge badge-warning"},$={key:0,class:"badge badge-info"},j={key:1,class:"badge badge-warning"},x={key:2,class:"badge badge-success"},F={class:"d-flex justify-content-center align-items-center"},L=["href"],W={__name:"CreatePurchasePayment",setup(R){const c=y();b(()=>{m().then(()=>{p()}),u(()=>{const s=localStorage.getItem("successMessage");s&&(c.success(s),localStorage.removeItem("successMessage"))})});const r=f([]),m=async()=>{try{const s=await axios.get("/purchases");r.value=s.data,console.log(s)}catch(s){console.error("Error fetching courses:",s)}};function p(){u(()=>{d.fn.DataTable.isDataTable("#purchasesTable")&&d("#purchasesTable").DataTable().destroy(),d("#purchasesTable").DataTable({responsive:!0,scrollX:!0,scrollY:"",scrollCollapse:!0,paging:!0});const s=localStorage.getItem("successMessage");s&&(c.success(s),localStorage.removeItem("successMessage"))})}return(s,t)=>(o(),T(g,null,{default:v(()=>[e("div",D,[t[2]||(t[2]=e("div",{class:"col-sm-6"},[e("h4",{class:"mt-2"},"PURCHASE PAYMENTS")],-1)),e("div",P,[e("ol",k,[e("li",S,[e("a",{href:s.route("admin.dashboard")},"Home",8,A)]),t[1]||(t[1]=e("li",{class:"breadcrumb-item active"},"Purchase Payment",-1))])])]),e("div",E,[e("div",N,[e("div",B,[e("div",I,[t[5]||(t[5]=e("h6",{style:{"font-weight":"700"},class:""},"PURCHASE PAYMENT TABLE",-1)),t[6]||(t[6]=e("hr",null,null,-1)),e("table",O,[t[4]||(t[4]=e("thead",null,[e("tr",null,[e("th",{style:{width:"5%"}},"ID"),e("th",{style:{width:"20%"}},"Purchase Code"),e("th",{style:{width:"25%"}},"Supplier Name"),e("th",{style:{width:"10%"}},"Payment Type"),e("th",{style:{width:"10%"}},"Status"),e("th",{style:{width:"15%"}},"Paid Amount"),e("th",{style:{width:"15%"}},"Total Amount"),e("th",{style:{width:"10%"}},"Action")])],-1)),e("tbody",null,[(o(!0),l(M,null,w(r.value,(a,h)=>(o(),l("tr",{key:r.value.id},[e("td",null,n(h+1),1),e("td",null,n(a.purchase_code??"N/A"),1),e("td",null,n(a.supplier.first_name)+" "+n(a.supplier.last_name),1),e("td",null,[a.payment_status===1?(o(),l("span",H,"Cash")):i("",!0),a.payment_status===2?(o(),l("span",V,"partially paid")):i("",!0),a.payment_status===3?(o(),l("span",Y,"Credit")):i("",!0)]),e("td",null,[a.payment_status===1?(o(),l("span",$,"Confirmed")):i("",!0),a.payment_status===2?(o(),l("span",j,"Pending")):i("",!0),a.payment_status===3?(o(),l("span",x,"Delivered")):i("",!0)]),e("td",null,n(a.received_amount),1),e("td",null,n(a.total_price),1),e("td",F,[e("a",{href:s.route("make.purchase.payment",a.id)},t[3]||(t[3]=[e("img",{src:"/images/icon/edit.png",alt:"",width:"25px",height:"25px",class:"mr-2 table-action-icon"},null,-1)]),8,L)])]))),128))])])])])])]),C(_,{isModalOpen:s.isModalOpen,modalTitle:s.modalTitle,onClose:t[0]||(t[0]=a=>s.isModalOpen=!1),onConfirmDelete:s.confirmDelete},null,8,["isModalOpen","modalTitle","onConfirmDelete"])]),_:1}))}};export{W as default};
