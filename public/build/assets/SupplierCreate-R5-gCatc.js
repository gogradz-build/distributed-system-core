import{d as f,r as v,f as b,n as g,o as _,l as E,h as P,a as s,w as N,b as r,v as l}from"./app-C2i026LC.js";import{_ as h}from"./AdminLayout-DxRoeMN4.js";import"./index-BKeKyArJ.js";import"./dataTables.bootstrap4.min-73PbsmZ0.js";import"./AdminFooter-BK7-hYHZ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const w={class:"row mb-2"},y={class:"col-sm-6"},V={class:"breadcrumb float-sm-right mt-2"},k={class:"breadcrumb-item"},x=["href"],I={class:"breadcrumb-item"},S=["href"],C={class:"row"},L={class:"col-12"},U={class:"card card-secondary"},q={class:"card-body"},A={class:"row"},R={class:"col-6"},M={class:"form-group"},B={class:"col-6"},D={class:"form-group"},T={class:"row"},$={class:"col-6"},F={class:"form-group"},j={class:"form-group col-md-6"},X={class:"form-row"},z={class:"col-6"},H={class:"form-group"},O={class:"form-group col-md-6"},G={class:"form-row"},J={class:"col-12"},K={class:"form-group"},re={__name:"SupplierCreate",setup(Q){const n=f(),m=v(null),a=v({first_name:"",last_name:"",phone_number:"",address:"",email:"",nic_number:"",register_number:""}),p=i=>{if(i.preventDefault(),!m.value.checkValidity()){m.value.classList.add("was-validated");return}axios.post("/suppliers",a.value).then(e=>{var t,o;(t=e==null?void 0:e.data)!=null&&t.message?(localStorage.setItem("successMessage",e.data.message),window.location.href=route("admin.showSupplier")):(o=e==null?void 0:e.data)!=null&&o.error&&n.error(e.data.error)}).catch(e=>{var t,o,d,u;(o=(t=e.response)==null?void 0:t.data)!=null&&o.errors?Object.values(e.response.data.errors||{}).flat().forEach(c=>{n.error(c)}):(u=(d=e.response)==null?void 0:d.data)!=null&&u.message?n.error(e.response.data.message):n.error("An unexpected error occurred."),console.error(e)})};return b(()=>{g(()=>{document.getElementById("phone-number").addEventListener("input",t=>{t.target.value=t.target.value.replace(/\D/g,""),t.target.value.length>10&&(t.target.value=t.target.value.slice(0,10))});const e=document.getElementById("nic-number");e.addEventListener("input",t=>{const d=t.target.value.replace(/[^0-9VvXx]/g,"");t.target.value=d;const u=/^\d{9}[VvXx]$|^\d{12}$/.test(d);e.setCustomValidity(u?"":"Invalid NIC number")})})}),(i,e)=>(_(),E(h,null,{default:P(()=>[s("div",w,[e[8]||(e[8]=s("div",{class:"col-sm-6"},[s("h4",{class:"mt-2"},"CREATE SUPPLIER")],-1)),s("div",y,[s("ol",V,[s("li",k,[s("a",{href:i.route("admin.dashboard")},"Home",8,x)]),s("li",I,[s("a",{href:i.route("admin.showSupplier")},"Supplier",8,S)]),e[7]||(e[7]=s("li",{class:"breadcrumb-item active"},"Create Supplier",-1))])])]),s("div",C,[s("div",L,[s("div",U,[e[24]||(e[24]=s("div",{class:"card-header card-header-background"},[s("h3",{class:"card-title"},"Supplier Personal Details "),s("div",{class:"card-tools"},[s("button",{type:"button",class:"btn btn-tool","data-card-widget":"collapse"},[s("i",{class:"fas fa-minus"})]),s("button",{type:"button",class:"btn btn-tool","data-card-widget":"remove"},[s("i",{class:"fas fa-times"})])])],-1)),s("div",q,[s("form",{class:"needs-validation",ref_key:"formRef",ref:m,onSubmit:N(p,["prevent"]),novalidate:""},[s("div",A,[s("div",R,[s("div",M,[e[9]||(e[9]=s("label",{for:"first-name"},"First Name :",-1)),r(s("input",{type:"text",class:"form-control",id:"first-name",placeholder:"Enter First Name","onUpdate:modelValue":e[0]||(e[0]=t=>a.value.first_name=t),required:""},null,512),[[l,a.value.first_name]]),e[10]||(e[10]=s("div",{class:"invalid-feedback"}," Please Provide Enter First Name ",-1))])]),s("div",B,[s("div",D,[e[11]||(e[11]=s("label",{for:"last-name"},"Last Name :",-1)),r(s("input",{type:"text",class:"form-control",id:"last-name",placeholder:"Enter Last Name","onUpdate:modelValue":e[1]||(e[1]=t=>a.value.last_name=t),required:""},null,512),[[l,a.value.last_name]]),e[12]||(e[12]=s("div",{class:"invalid-feedback"}," Please Provide Enter Last Name ",-1))])])]),s("div",T,[s("div",$,[s("div",F,[e[13]||(e[13]=s("label",{for:"last-name"},"Registration Number :",-1)),r(s("input",{type:"text",class:"form-control",id:"register-number",placeholder:"Enter Registration Number","onUpdate:modelValue":e[2]||(e[2]=t=>a.value.register_number=t),required:""},null,512),[[l,a.value.register_number]]),e[14]||(e[14]=s("div",{class:"invalid-feedback"}," Please Provide Enter Registration Number ",-1))])]),s("div",j,[e[15]||(e[15]=s("label",{for:"inputEmail4"},"Email :",-1)),r(s("input",{type:"email",class:"form-control",id:"inputEmail4",placeholder:"Enter Email Address","onUpdate:modelValue":e[3]||(e[3]=t=>a.value.email=t),required:""},null,512),[[l,a.value.email]]),e[16]||(e[16]=s("div",{class:"invalid-feedback"}," Please Provide Enter Valid Email Address ",-1))])]),s("div",X,[s("div",z,[s("div",H,[e[17]||(e[17]=s("label",{for:"phone-number"},"Phone Number :",-1)),r(s("input",{type:"text",class:"form-control",id:"phone-number",placeholder:"Enter Phone Number","onUpdate:modelValue":e[4]||(e[4]=t=>a.value.phone_number=t),required:"",pattern:"^(07[0-9])\\d{7}$",title:"Please enter a valid 10-digit Sri Lankan mobile number starting with 07"},null,512),[[l,a.value.phone_number]]),e[18]||(e[18]=s("div",{class:"invalid-feedback"}," Please Provide Enter Valid Phone Number ",-1))])]),s("div",O,[e[19]||(e[19]=s("label",{for:"nic-number"},"NIC Number :",-1)),r(s("input",{type:"text",class:"form-control",id:"nic-number",placeholder:"Enter NIC Number","onUpdate:modelValue":e[5]||(e[5]=t=>a.value.nic_number=t),title:"Please enter a valid NIC number (e.g., 123456789V or 199012345678)",required:""},null,512),[[l,a.value.nic_number]]),e[20]||(e[20]=s("div",{class:"invalid-feedback"}," Please Provide Enter Valid NIC Number (e.g: 123456789V or 199012345678) ",-1))])]),s("div",G,[s("div",J,[s("div",K,[e[21]||(e[21]=s("label",{for:"address"},"Address :",-1)),r(s("input",{type:"text",class:"form-control",id:"address",placeholder:"Enter Address","onUpdate:modelValue":e[6]||(e[6]=t=>a.value.address=t),required:""},null,512),[[l,a.value.address]]),e[22]||(e[22]=s("div",{class:"invalid-feedback"}," Please Provide Enter Address ",-1))])])]),e[23]||(e[23]=s("div",{class:"row"},[s("div",{class:"col-12 d-flex justify-content-end"},[s("button",{type:"submit",class:"btn btn-primary"},"Create Supplier")])],-1))],544)])])])])]),_:1}))}};export{re as default};
