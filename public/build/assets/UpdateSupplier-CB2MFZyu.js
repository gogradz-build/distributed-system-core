import{d as g,r as v,f as _,n as E,o as P,l as h,h as N,a as s,w as y,b as l,v as o}from"./app-DuMmWb0e.js";import{_ as w}from"./AdminLayout-CuGKItQZ.js";import"./index-C4SQfzFt.js";import"./dataTables.bootstrap4.min-Db9EHKM2.js";import"./AdminFooter-i6V7ulTS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"row mb-2"},I={class:"col-sm-6"},k={class:"breadcrumb float-sm-right"},x={class:"breadcrumb-item"},U=["href"],S={class:"breadcrumb-item"},L=["href"],A={class:"row"},R={class:"col-12"},q={class:"card card-secondary"},C={class:"card-body"},D={class:"row"},M={class:"col-6"},B={class:"form-group"},T={class:"col-6"},$={class:"form-group"},F={class:"row"},j={class:"col-6"},O={class:"form-group"},X={class:"form-group col-md-6"},z={class:"form-row"},H={class:"col-6"},G={class:"form-group"},J={class:"form-group col-md-6"},K={class:"form-row"},Q={class:"col-6"},W={class:"form-group"},le={__name:"UpdateSupplier",props:{supplier:Array},setup(c){const u=g(),p=v(null),a=c,r=v({first_name:a.supplier.first_name,last_name:a.supplier.last_name,phone_number:a.supplier.phone_number,phone_number:a.supplier.phone_number,address:a.supplier.address,register_number:a.supplier.register_number,email:a.supplier.email,nic_number:a.supplier.nic_number}),b=d=>{if(d.preventDefault(),!p.value.checkValidity()){p.value.classList.add("was-validated");return}axios.put(`/suppliers/${a.supplier.id}`,r.value).then(e=>{var t,i;(t=e==null?void 0:e.data)!=null&&t.message?(localStorage.setItem("successMessage",e.data.message),window.location.href=route("admin.showSupplier")):(i=e==null?void 0:e.data)!=null&&i.error&&u.error(e.data.error)}).catch(e=>{var t,i,n,m;(i=(t=e.response)==null?void 0:t.data)!=null&&i.errors?Object.values(e.response.data.errors||{}).flat().forEach(f=>{u.error(f)}):(m=(n=e.response)==null?void 0:n.data)!=null&&m.message?u.error(e.response.data.message):u.error("An unexpected error occurred."),console.error(e)})};return _(()=>{E(()=>{document.getElementById("phone-number").addEventListener("input",t=>{t.target.value=t.target.value.replace(/\D/g,""),t.target.value.length>10&&(t.target.value=t.target.value.slice(0,10))});const e=document.getElementById("nic-number");e.addEventListener("input",t=>{const n=t.target.value.replace(/[^0-9VvXx]/g,"");t.target.value=n;const m=/^\d{9}[VvXx]$|^\d{12}$/.test(n);e.setCustomValidity(m?"":"Invalid NIC number")})})}),(d,e)=>(P(),h(w,null,{default:N(()=>[s("div",V,[e[8]||(e[8]=s("div",{class:"col-sm-6"},[s("h4",{class:"mt-3"},"UPDATE SUPPLIER")],-1)),s("div",I,[s("ol",k,[s("li",x,[s("a",{href:d.route("admin.dashboard")},"HOME",8,U)]),s("li",S,[s("a",{href:d.route("admin.showSupplier")},"SUPPLIER",8,L)]),e[7]||(e[7]=s("li",{class:"breadcrumb-item active"},"UPDATE SUPPLIER",-1))])])]),s("div",A,[s("div",R,[s("div",q,[e[24]||(e[24]=s("div",{class:"card-header card-header-background"},[s("h3",{class:"card-title"},"Supplier Details "),s("div",{class:"card-tools"},[s("button",{type:"button",class:"btn btn-tool","data-card-widget":"collapse"},[s("i",{class:"fas fa-minus"})]),s("button",{type:"button",class:"btn btn-tool","data-card-widget":"remove"},[s("i",{class:"fas fa-times"})])])],-1)),s("div",C,[s("form",{class:"needs-validation",ref_key:"formRef",ref:p,onSubmit:y(b,["prevent"]),novalidate:""},[s("div",D,[s("div",M,[s("div",B,[e[9]||(e[9]=s("label",{for:"first-name"},"First Name :",-1)),l(s("input",{type:"text",class:"form-control",id:"first-name",placeholder:"Enter First Name","onUpdate:modelValue":e[0]||(e[0]=t=>r.value.first_name=t),required:""},null,512),[[o,r.value.first_name]]),e[10]||(e[10]=s("div",{class:"invalid-feedback"}," Please Provide Enter First Name ",-1))])]),s("div",T,[s("div",$,[e[11]||(e[11]=s("label",{for:"last-name"},"Last Name :",-1)),l(s("input",{type:"text",class:"form-control",id:"last-name",placeholder:"Enter Last Name","onUpdate:modelValue":e[1]||(e[1]=t=>r.value.last_name=t),required:""},null,512),[[o,r.value.last_name]]),e[12]||(e[12]=s("div",{class:"invalid-feedback"}," Please Provide Enter Last Name ",-1))])])]),s("div",F,[s("div",j,[s("div",O,[e[13]||(e[13]=s("label",{for:"last-name"},"Registration Number :",-1)),l(s("input",{type:"text",class:"form-control",id:"register-number",placeholder:"Enter Registration Number","onUpdate:modelValue":e[2]||(e[2]=t=>r.value.register_number=t),required:""},null,512),[[o,r.value.register_number]]),e[14]||(e[14]=s("div",{class:"invalid-feedback"}," Please Provide Enter Registration Number ",-1))])]),s("div",X,[e[15]||(e[15]=s("label",{for:"inputEmail4"},"Email :",-1)),l(s("input",{type:"email",class:"form-control",id:"inputEmail4",placeholder:"Enter Email Address","onUpdate:modelValue":e[3]||(e[3]=t=>r.value.email=t),required:""},null,512),[[o,r.value.email]]),e[16]||(e[16]=s("div",{class:"invalid-feedback"}," Please Provide Enter Valid Email Address ",-1))])]),s("div",z,[s("div",H,[s("div",G,[e[17]||(e[17]=s("label",{for:"phone-number"},"Phone Number :",-1)),l(s("input",{type:"text",class:"form-control",id:"phone-number",placeholder:"Enter Phone Number","onUpdate:modelValue":e[4]||(e[4]=t=>r.value.phone_number=t),required:"",pattern:"^(07[0-9])\\d{7}$",title:"Please enter a valid 10-digit Sri Lankan mobile number starting with 07"},null,512),[[o,r.value.phone_number]]),e[18]||(e[18]=s("div",{class:"invalid-feedback"}," Please Provide Enter Valid Phone Number ",-1))])]),s("div",J,[e[19]||(e[19]=s("label",{for:"nic-number"},"NIC Number :",-1)),l(s("input",{type:"text",class:"form-control",id:"nic-number",placeholder:"Enter NIC Number","onUpdate:modelValue":e[5]||(e[5]=t=>r.value.nic_number=t),title:"Please enter a valid NIC number (e.g., 123456789V or 199012345678)",required:""},null,512),[[o,r.value.nic_number]]),e[20]||(e[20]=s("div",{class:"invalid-feedback"}," Please Provide Enter Valid NIC Number (e.g: 123456789V or 199012345678) ",-1))])]),s("div",K,[s("div",Q,[s("div",W,[e[21]||(e[21]=s("label",{for:"address"},"Address :",-1)),l(s("input",{type:"text",class:"form-control",id:"address",placeholder:"Enter Address","onUpdate:modelValue":e[6]||(e[6]=t=>r.value.address=t),required:""},null,512),[[o,r.value.address]]),e[22]||(e[22]=s("div",{class:"invalid-feedback"}," Please Provide Address ",-1))])])]),e[23]||(e[23]=s("div",{class:"row"},[s("div",{class:"col-12 d-flex justify-content-end"},[s("button",{type:"submit",class:"btn btn-primary"},"Update Supplier")])],-1))],544)])])])])]),_:1}))}};export{le as default};
