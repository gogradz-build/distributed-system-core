import{e as f,r as v,f as b,p as g,o as _,g as E,h as N,a as t,w as P,d as r,v as l}from"./app-mDYLW31A.js";import{_ as h}from"./AdminLayout-UUPC1Aa5.js";import"./index-DrsYIacS.js";import"./dataTables.bootstrap4.min-B2_zjVPS.js";import"side-channel-list";import"side-channel-map";import"side-channel-weakmap";import"./AdminFooter-BVWJI1Iq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const w={class:"row mb-2"},y={class:"col-sm-6"},V={class:"breadcrumb float-sm-right mt-2"},k={class:"breadcrumb-item"},x=["href"],I={class:"breadcrumb-item"},S=["href"],C={class:"row"},L={class:"col-12"},U={class:"card card-secondary"},q={class:"card-body"},A={class:"row"},R={class:"col-6"},M={class:"form-group"},B={class:"col-6"},D={class:"form-group"},T={class:"row"},$={class:"col-6"},F={class:"form-group"},j={class:"form-group col-md-6"},X={class:"form-row"},z={class:"col-6"},H={class:"form-group"},O={class:"form-group col-md-6"},G={class:"form-row"},J={class:"col-6"},K={class:"form-group"},ie={__name:"SupplierCreate",setup(Q){const n=f(),m=v(null),a=v({first_name:"",last_name:"",phone_number:"",address:"",email:"",nic_number:""}),p=i=>{if(i.preventDefault(),!m.value.checkValidity()){m.value.classList.add("was-validated");return}axios.post("/suppliers",a.value).then(e=>{var s,o;(s=e==null?void 0:e.data)!=null&&s.message?(localStorage.setItem("successMessage",e.data.message),window.location.href=route("admin.showSupplier")):(o=e==null?void 0:e.data)!=null&&o.error&&n.error(e.data.error)}).catch(e=>{var s,o,d,u;(o=(s=e.response)==null?void 0:s.data)!=null&&o.errors?Object.values(e.response.data.errors||{}).flat().forEach(c=>{n.error(c)}):(u=(d=e.response)==null?void 0:d.data)!=null&&u.message?n.error(e.response.data.message):n.error("An unexpected error occurred."),console.error(e)})};return b(()=>{g(()=>{document.getElementById("phone-number").addEventListener("input",s=>{s.target.value=s.target.value.replace(/\D/g,""),s.target.value.length>10&&(s.target.value=s.target.value.slice(0,10))});const e=document.getElementById("nic-number");e.addEventListener("input",s=>{const d=s.target.value.replace(/[^0-9VvXx]/g,"");s.target.value=d;const u=/^\d{9}[VvXx]$|^\d{12}$/.test(d);e.setCustomValidity(u?"":"Invalid NIC number")})})}),(i,e)=>(_(),E(h,null,{default:N(()=>[t("div",w,[e[8]||(e[8]=t("div",{class:"col-sm-6"},[t("h2",{class:"mt-2"},"CREATE SUPPLIER")],-1)),t("div",y,[t("ol",V,[t("li",k,[t("a",{href:i.route("admin.dashboard")},"Home",8,x)]),t("li",I,[t("a",{href:i.route("admin.showSupplier")},"Supplier",8,S)]),e[7]||(e[7]=t("li",{class:"breadcrumb-item active"},"Create Supplier",-1))])])]),t("div",C,[t("div",L,[t("div",U,[e[24]||(e[24]=t("div",{class:"card-header card-header-background"},[t("h3",{class:"card-title"},"Supplier Details "),t("div",{class:"card-tools"},[t("button",{type:"button",class:"btn btn-tool","data-card-widget":"collapse"},[t("i",{class:"fas fa-minus"})]),t("button",{type:"button",class:"btn btn-tool","data-card-widget":"remove"},[t("i",{class:"fas fa-times"})])])],-1)),t("div",q,[t("form",{class:"needs-validation",ref_key:"formRef",ref:m,onSubmit:P(p,["prevent"]),novalidate:""},[t("div",A,[t("div",R,[t("div",M,[e[9]||(e[9]=t("label",{for:"first-name"},"First Name :",-1)),r(t("input",{type:"text",class:"form-control",id:"first-name",placeholder:"Enter First Name","onUpdate:modelValue":e[0]||(e[0]=s=>a.value.first_name=s),required:""},null,512),[[l,a.value.first_name]]),e[10]||(e[10]=t("div",{class:"invalid-feedback"}," Please Provide Enter First Name ",-1))])]),t("div",B,[t("div",D,[e[11]||(e[11]=t("label",{for:"last-name"},"Last Name :",-1)),r(t("input",{type:"text",class:"form-control",id:"last-name",placeholder:"Enter Last Name","onUpdate:modelValue":e[1]||(e[1]=s=>a.value.last_name=s),required:""},null,512),[[l,a.value.last_name]]),e[12]||(e[12]=t("div",{class:"invalid-feedback"}," Please Provide Enter Last Name ",-1))])])]),t("div",T,[t("div",$,[t("div",F,[e[13]||(e[13]=t("label",{for:"last-name"},"Registration Number :",-1)),r(t("input",{type:"text",class:"form-control",id:"register-number",placeholder:"Enter Registration Number","onUpdate:modelValue":e[2]||(e[2]=s=>a.value.register_number=s),required:""},null,512),[[l,a.value.register_number]]),e[14]||(e[14]=t("div",{class:"invalid-feedback"}," Please Provide Enter Registration Number ",-1))])]),t("div",j,[e[15]||(e[15]=t("label",{for:"inputEmail4"},"Email :",-1)),r(t("input",{type:"email",class:"form-control",id:"inputEmail4",placeholder:"Enter Email Address","onUpdate:modelValue":e[3]||(e[3]=s=>a.value.email=s),required:""},null,512),[[l,a.value.email]]),e[16]||(e[16]=t("div",{class:"invalid-feedback"}," Please Provide Enter Valid Email Address ",-1))])]),t("div",X,[t("div",z,[t("div",H,[e[17]||(e[17]=t("label",{for:"phone-number"},"Phone Number :",-1)),r(t("input",{type:"text",class:"form-control",id:"phone-number",placeholder:"Enter Phone Number","onUpdate:modelValue":e[4]||(e[4]=s=>a.value.phone_number=s),required:"",pattern:"^(07[0-9])\\d{7}$",title:"Please enter a valid 10-digit Sri Lankan mobile number starting with 07"},null,512),[[l,a.value.phone_number]]),e[18]||(e[18]=t("div",{class:"invalid-feedback"}," Please Provide Enter Valid Phone Number ",-1))])]),t("div",O,[e[19]||(e[19]=t("label",{for:"nic-number"},"NIC Number :",-1)),r(t("input",{type:"text",class:"form-control",id:"nic-number",placeholder:"Enter NIC Number","onUpdate:modelValue":e[5]||(e[5]=s=>a.value.nic_number=s),title:"Please enter a valid NIC number (e.g., 123456789V or 199012345678)",required:""},null,512),[[l,a.value.nic_number]]),e[20]||(e[20]=t("div",{class:"invalid-feedback"}," Please Provide Enter Valid NIC Number (e.g: 123456789V or 199012345678) ",-1))])]),t("div",G,[t("div",J,[t("div",K,[e[21]||(e[21]=t("label",{for:"address"},"Address :",-1)),r(t("input",{type:"text",class:"form-control",id:"address",placeholder:"Enter Address","onUpdate:modelValue":e[6]||(e[6]=s=>a.value.address=s),required:""},null,512),[[l,a.value.address]]),e[22]||(e[22]=t("div",{class:"invalid-feedback"}," Please Provide Address ",-1))])])]),e[23]||(e[23]=t("div",{class:"row"},[t("div",{class:"col-12 d-flex justify-content-end"},[t("button",{type:"submit",class:"btn btn-primary"},"Create Supplier")])],-1))],544)])])])])]),_:1}))}};export{ie as default};
