import{d as h,r as u,f as w,n as E,o as c,l as y,h as P,a as s,w as V,b as r,v as d,m as S,c as p,j as k,t as x,F as N}from"./app-C2i026LC.js";import{_ as C}from"./AdminLayout-DxRoeMN4.js";import"./index-BKeKyArJ.js";import"./dataTables.bootstrap4.min-73PbsmZ0.js";import"./AdminFooter-BK7-hYHZ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"row mb-2"},U={class:"col-sm-6"},q={class:"breadcrumb float-sm-right mt-2"},A={class:"breadcrumb-item"},R=["href"],B={class:"breadcrumb-item"},D=["href"],I={class:"row"},L={class:"col-12"},O={class:"card card-secondary"},T={class:"card-body"},j={class:"row"},$={class:"col-lg-6"},F={class:"form-group"},H={class:"col-lg-6"},X={class:"form-group"},z={class:"row"},G={class:"form-group col-lg-6"},J={class:"col-lg-6"},K={class:"form-group"},Q={class:"row"},W={class:"col-lg-6"},Y={class:"form-group"},Z={class:"col-lg-6"},ee={class:"form-group"},se={class:"row"},te={class:"col-lg-6"},oe={class:"form-group"},le=["value"],ae={class:"col-lg-6"},re={class:"form-group"},pe={__name:"CreateShop",setup(de){const i=h(),m=u(null),o=u({name:"",owner_name:"",contact:"",address:"",ref_id:"",credit_limit:"",email:"",telephone_number:""}),b=l=>{if(l.preventDefault(),!m.value.checkValidity()){m.value.classList.add("was-validated");return}axios.post("/shops",o.value).then(e=>{var t,a;(t=e==null?void 0:e.data)!=null&&t.message?(localStorage.setItem("successMessage",e.data.message),window.location.href=route("admin.show.shop")):(a=e==null?void 0:e.data)!=null&&a.error&&i.error(e.data.error)}).catch(e=>{var t,a,n,f;(a=(t=e.response)==null?void 0:t.data)!=null&&a.errors?Object.values(e.response.data.errors||{}).flat().forEach(_=>{i.error(_)}):(f=(n=e.response)==null?void 0:n.data)!=null&&f.message?i.error(e.response.data.message):i.error("An unexpected error occurred."),console.error(e)})};w(()=>{g(),E(()=>{const l=document.getElementById("nic-number");l.addEventListener("input",e=>{const a=e.target.value.replace(/[^0-9VvXx]/g,"");e.target.value=a;const n=/^\d{9}[VvXx]$|^\d{12}$/.test(a);l.setCustomValidity(n?"":"Invalid NIC number")})})});const v=u([]),g=async()=>{try{const l=await axios.get("/refs");v.value=l.data,console.log(l)}catch(l){console.error("Error fetching courses:",l)}};return(l,e)=>(c(),y(C,null,{default:P(()=>[s("div",M,[e[9]||(e[9]=s("div",{class:"col-sm-6"},[s("h4",{class:"mt-2"},"CREATE SHOP")],-1)),s("div",U,[s("ol",q,[s("li",A,[s("a",{href:l.route("admin.dashboard")},"Home",8,R)]),s("li",B,[s("a",{href:l.route("admin.show.shop")},"Shop",8,D)]),e[8]||(e[8]=s("li",{class:"breadcrumb-item active"},"Create Shop",-1))])])]),s("div",I,[s("div",L,[s("div",O,[e[27]||(e[27]=s("div",{class:"card-header card-header-background"},[s("h3",{class:"card-title"},"Shop Details "),s("div",{class:"card-tools"},[s("button",{type:"button",class:"btn btn-tool","data-card-widget":"collapse"},[s("i",{class:"fas fa-minus"})]),s("button",{type:"button",class:"btn btn-tool","data-card-widget":"remove"},[s("i",{class:"fas fa-times"})])])],-1)),s("div",T,[s("form",{class:"needs-validation",ref_key:"formRef",ref:m,onSubmit:V(b,["prevent"]),novalidate:""},[s("div",j,[s("div",$,[s("div",F,[e[10]||(e[10]=s("label",{for:"name"},"Shop Name :",-1)),r(s("input",{type:"text",class:"form-control",id:"shop-name",placeholder:"Enter Shop Name","onUpdate:modelValue":e[0]||(e[0]=t=>o.value.name=t),required:""},null,512),[[d,o.value.name]]),e[11]||(e[11]=s("div",{class:"invalid-feedback"}," Please Provide Enter Shop Name ",-1))])]),s("div",H,[s("div",X,[e[12]||(e[12]=s("label",{for:"last-name"},"Owner Name:",-1)),r(s("input",{type:"text",class:"form-control",id:"owner_name",placeholder:"Enter Owner Name","onUpdate:modelValue":e[1]||(e[1]=t=>o.value.owner_name=t),required:""},null,512),[[d,o.value.owner_name]]),e[13]||(e[13]=s("div",{class:"invalid-feedback"}," Please Provide Enter Owner Name ",-1))])])]),s("div",z,[s("div",G,[e[14]||(e[14]=s("label",{for:"inputEmail4"},"Email :",-1)),r(s("input",{type:"email",class:"form-control",id:"inputEmail4",placeholder:"Enter Email Address","onUpdate:modelValue":e[2]||(e[2]=t=>o.value.email=t),required:""},null,512),[[d,o.value.email]]),e[15]||(e[15]=s("div",{class:"invalid-feedback"}," Please Provide Enter Valid Email Address ",-1))]),s("div",J,[s("div",K,[e[16]||(e[16]=s("label",{for:"phone-number"},"Mobile Number :",-1)),r(s("input",{type:"text",class:"form-control",id:"",placeholder:"Enter Phone Number","onUpdate:modelValue":e[3]||(e[3]=t=>o.value.contact=t),required:""},null,512),[[d,o.value.contact]]),e[17]||(e[17]=s("div",{class:"invalid-feedback"}," Please Provide Enter Valid Phone Number ",-1))])])]),s("div",Q,[s("div",W,[s("div",Y,[e[18]||(e[18]=s("label",{for:"phone-number"},"Telephone Number :",-1)),r(s("input",{type:"text",class:"form-control",id:"r",placeholder:"Enter Phone Number","onUpdate:modelValue":e[4]||(e[4]=t=>o.value.telephone_number=t),required:""},null,512),[[d,o.value.telephone_number]]),e[19]||(e[19]=s("div",{class:"invalid-feedback"}," Please Provide Enter Valid Phone Number ",-1))])]),s("div",Z,[s("div",ee,[e[20]||(e[20]=s("label",{for:"address"},"Address :",-1)),r(s("input",{type:"text",class:"form-control",id:"address",placeholder:"Enter Address","onUpdate:modelValue":e[5]||(e[5]=t=>o.value.address=t),required:""},null,512),[[d,o.value.address]]),e[21]||(e[21]=s("div",{class:"invalid-feedback"}," Please Provide Enter Address ",-1))])])]),s("div",se,[s("div",te,[s("div",oe,[e[23]||(e[23]=s("label",{for:"credit_limit"},"Select Ref :",-1)),r(s("select",{class:"form-select",id:"ref","onUpdate:modelValue":e[6]||(e[6]=t=>o.value.ref_id=t)},[e[22]||(e[22]=s("option",{selected:"",disabled:"",value:""},"Select Ref",-1)),(c(!0),p(N,null,k(v.value,t=>(c(),p("option",{key:t.id,value:t.id},x(t.first_name),9,le))),128))],512),[[S,o.value.ref_id]])])]),s("div",ae,[s("div",re,[e[24]||(e[24]=s("label",{for:"credit_limit"},"Credit Limit :",-1)),r(s("input",{type:"number",class:"form-control",id:"credit_limit",placeholder:"Enter credit limit","onUpdate:modelValue":e[7]||(e[7]=t=>o.value.credit_limit=t),required:""},null,512),[[d,o.value.credit_limit]]),e[25]||(e[25]=s("div",{class:"invalid-feedback"}," Please Provide Enter Credit Limit ",-1))])])]),e[26]||(e[26]=s("div",{class:"row"},[s("div",{class:"col-lg-12 d-flex justify-content-end"},[s("button",{type:"submit",class:"btn btn-primary"},"Create Shop")])],-1))],544)])])])])]),_:1}))}};export{pe as default};
