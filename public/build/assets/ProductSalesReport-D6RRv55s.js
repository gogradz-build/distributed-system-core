import{Q as g,d as y,r as d,f as D,n as m,e as T,k as w,q as x,o as c,l as S,h as R,a as t,i as P,b as p,v as f,c as b,j as k,t as n,F as E}from"./app-DuMmWb0e.js";import{_ as B}from"./AdminLayout-CuGKItQZ.js";import{$ as _}from"./dataTables.bootstrap4.min-Db9EHKM2.js";/* empty css                       */import"./AdminFooter-i6V7ulTS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"row mb-2"},V={class:"col-sm-6"},M=["href"],N=["disabled"],U={class:"col-sm-6 mt-3"},j={class:"breadcrumb float-sm-right"},q={class:"breadcrumb-item"},F=["href"],H={class:"row mb-4"},L={class:"col-12"},O={class:"row d-flex justify-content-center"},Q={class:"col-lg-6 col-12"},$={class:"input-group mb-3"},z={class:"col-lg-6 col-12"},A={class:"input-group mb-3"},I={class:"row mt-4"},X={class:"col-12"},Y={class:"card"},G={class:"card-body"},J={id:"refTable",class:"table table-hover"},ot={__name:"ProductSalesReport",setup(K){g(),y();const l=d(""),r=d("");d("");const i=d("");D(()=>{u(),m(()=>{h()})});const v=T(()=>i.value.length>0),h=()=>{_("#perchesTable").DataTable({responsive:!0,scrollX:!0,scrollY:"300px",scrollCollapse:!0,paging:!0})};w([l,r],([a,s,e])=>{u(a,s)});const u=async(a,s)=>{try{const e={};a&&(e.start_date=a),s&&(e.end_date=s);const o=await x.get(route("admin.product.report",{params:e}));i.value=o.data,console.log(o),m(()=>{_("#perchesTable").DataTable().clear().rows.add(o.data).draw()})}catch(e){console.error("Error fetching data table:",e)}};return(a,s)=>(c(),S(B,null,{default:R(()=>[t("div",C,[t("div",V,[s[3]||(s[3]=t("h4",{class:"mt-3"},"PRODUCTS SALES REPORT",-1)),t("a",{href:a.route("admin.sales.product.report",{start_date:l.value,end_date:r.value})},[t("button",{type:"button",class:"btn btn-success mt-4 mb-4",disabled:!v.value},s[2]||(s[2]=[t("i",{class:"fas fa-solid fa-print",style:{color:"#ffffff","margin-right":"5px"}},null,-1),P("Sales Report")]),8,N)],8,M)]),t("div",U,[t("ol",j,[t("li",q,[t("a",{href:a.route("admin.dashboard")},"Home",8,F)]),s[4]||(s[4]=t("li",{class:"breadcrumb-item active"},[t("a",{href:""},"Report")],-1)),s[5]||(s[5]=t("li",{class:"breadcrumb-item active"},"Products Sales Report",-1))])])]),t("div",H,[t("div",L,[t("div",O,[t("div",Q,[t("div",$,[s[6]||(s[6]=t("label",{class:"input-group-text",for:"startDate"},[t("i",{class:"fas fa-calendar"}," Start Date")],-1)),p(t("input",{type:"date",class:"form-control",id:"startDate","onUpdate:modelValue":s[0]||(s[0]=e=>l.value=e)},null,512),[[f,l.value]])])]),t("div",z,[t("div",A,[s[7]||(s[7]=t("label",{class:"input-group-text",for:"endDate"},[t("i",{class:"fas fa-calendar"}," End Date")],-1)),p(t("input",{type:"date",class:"form-control",id:"endDate","onUpdate:modelValue":s[1]||(s[1]=e=>r.value=e)},null,512),[[f,r.value]])])])])])]),t("div",I,[t("div",X,[t("div",Y,[s[9]||(s[9]=t("div",{class:"card-header"},[t("h6",{class:"card-title",style:{"font-weight":"700"}},"Product Details")],-1)),t("div",G,[t("table",J,[s[8]||(s[8]=t("thead",null,[t("tr",null,[t("th",{style:{}},"ID"),t("th",{style:{}},"Product Code"),t("th",{style:{}},"Product Name"),t("th",{style:{}},"Sold Quantity")])],-1)),t("tbody",null,[(c(!0),b(E,null,k(i.value,(e,o)=>(c(),b("tr",{key:o},[t("td",null,n(1+o),1),t("td",null,"MH"+n(e.code),1),t("td",null,n(e.name),1),t("td",null,n(e.quantity_sold),1)]))),128))])])])])])])]),_:1}))}};export{ot as default};
